<?xml version="1.0"?>
<robot name="armstrong" xmlns:xacro="http://www.ros.org/wiki/xacro">

	<!-- //////////////////////////////////////////////////////////////////////////// -->	
	<!--Xacro Properties-->
	<!-- //////////////////////////////////////////////////////////////////////////// -->
	<xacro:property name="deg_to_rad" value="0.01745329251994329577"/>
	<xacro:property name="M_PI" value="3.14159"/>

	<!--http://wiki.ros.org/urdf/XML/Transmission-->
	<xacro:macro name="transmission_block" params="joint_name">
		<transmission name="tran1">
			<type>transmission_interface/SimpleTransmission</type>
			<joint name="${joint_name}">
				<hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
			</joint>
			<actuator name="motor1">
				<hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
				<mechanicalReduction>1</mechanicalReduction>
			</actuator>
		</transmission>
	</xacro:macro>

  <!-- //////////////////////////////////////////////////////////////////////////// --> 
  <!--ARLO Link Base Frame-->
  <!-- //////////////////////////////////////////////////////////////////////////// -->
  <link
    name="base_link">
    <inertial>
      <origin
        xyz="-4.5737E-08 -0.020825 0.15228"
        rpy="0 0 0" />
      <mass
        value="3.7701" />
      <inertia
        ixx="0.040053"
        ixy="2.563E-08"
        ixz="-5.9908E-08"
        iyy="0.08344"
        iyz="0.011411"
        izz="0.052771" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/base_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/base_link.STL" />
      </geometry>
    </collision>
  </link>

  <!-- //////////////////////////////////////////////////////////////////////////// --> 
  <!--Link 1 Spin Table-->
  <!-- //////////////////////////////////////////////////////////////////////////// -->
  <link
    name="Link_1">
    <inertial>
      <origin
        xyz="-0.000295599531515089 -0.0050694041200408 0.0262904206780893"
        rpy="0 0 0" />
      <mass
        value="0.231017580172464" />
      <inertia
        ixx="1.39224819737156E-05"
        ixy="3.16966178167247E-07"
        ixz="1.52017921099788E-07"
        iyy="2.61244195879679E-06"
        iyz="-5.42858579794049E-06"
        izz="1.1327792166679E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_1.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_1.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Joint_0"
    type="fixed">
    <origin
      xyz="0 0.147389590761843 0.111124999999998"
      rpy="0 6.98296267768627E-15 6.98296267768627E-15" />
    <parent
      link="base_link" />
    <child
      link="Link_1" />
    <axis
      xyz="0 0 0" />
  </joint>

  <!-- //////////////////////////////////////////////////////////////////////////// --> 
  <!--Link 2 Dual Motors-->
  <!-- //////////////////////////////////////////////////////////////////////////// -->
  <link
    name="Link_2">
    <inertial>
      <origin
        xyz="0.000245997952605159 5.18900594968785E-06 0.0337679913335289"
        rpy="0 0 0" />
      <mass
        value="0.266262084814045" />
      <inertia
        ixx="0.000104593288743262"
        ixy="2.13438344279435E-08"
        ixz="-1.18288811562897E-06"
        iyy="0.00032148615989113"
        iyz="1.76046645274627E-08"
        izz="0.000216893011548678" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_2.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_2.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Joint_1"
    type="revolute">
    <origin
      xyz="0 0 0.04318"
      rpy="6.98296267768627E-15 0 -6.98296267768627E-15" />
    <parent
      link="Link_1" />
    <child
      link="Link_2" />
    <axis
      xyz="0 0 1" />
    <limit lower="-3.14159265" upper="3.14159265" effort="24" velocity="6.07"/>
  </joint>

  <!-- //////////////////////////////////////////////////////////////////////////// --> 
  <!--Link 3 Sturdy Base Servo-->
  <!-- //////////////////////////////////////////////////////////////////////////// -->
  <link
    name="Link_3">
    <inertial>
      <origin
        xyz="0.000201297618472596 0.00441389334559845 0.126754341902451"
        rpy="0 0 0" />
      <mass
        value="0.205570337657311" />
      <inertia
        ixx="0.000945810095212874"
        ixy="-3.75286422429002E-07"
        ixz="-2.68834863919417E-06"
        iyy="0.000980318138538167"
        iyz="-8.22410793030225E-05"
        izz="6.07849124063025E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_3.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_3.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Joint_2"
    type="revolute">
    <origin
      xyz="0 0 0.0670364002434545"
      rpy="1.33861536954324E-12 -6.98885806120157E-09 -1.31861661004669E-12" />
    <parent
      link="Link_2" />
    <child
      link="Link_3" />
    <axis
      xyz="1 0 0" />
    <limit lower="-1.91288086" upper="1.91288086" effort="48" velocity="6.07"/>
  </joint>

  <!-- //////////////////////////////////////////////////////////////////////////// --> 
  <!--Link 4 First Wrist Rotate-->
  <!-- //////////////////////////////////////////////////////////////////////////// -->
  <link
    name="Link_4">
    <inertial>
      <origin
        xyz="-8.22270928568791E-08 0.00358599191437327 0.0626435730095933"
        rpy="0 0 0" />
      <mass
        value="0.145524620366664" />
      <inertia
        ixx="4.93098686773543E-05"
        ixy="5.89377990972886E-11"
        ixz="5.91336907921079E-11"
        iyy="6.58934003599806E-05"
        iyz="9.43389639479683E-08"
        izz="2.46228458803864E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_4.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_4.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Joint_3"
    type="revolute">
    <origin
      xyz="1.79999894011074E-05 0.0292119999936017 0.1917240000158"
      rpy="3.32428011080213E-15 3.61394601646668E-15 -1.39659020047236E-14" />
    <parent
      link="Link_3" />
    <child
      link="Link_4" />
    <axis
      xyz="1 0 0" />
    <limit lower="-2.7227136" upper="0.356047" effort="24" velocity="6.07"/>
  </joint>

  <!-- //////////////////////////////////////////////////////////////////////////// --> 
  <!--Link 5 Reach Girder-->
  <!-- //////////////////////////////////////////////////////////////////////////// -->
  <link
    name="Link_5">
    <inertial>
      <origin
        xyz="0.000275054818471177 -0.000920893443056015 0.0747617195797487"
        rpy="0 0 0" />
      <mass
        value="0.127077319446387" />
      <inertia
        ixx="0.000160931457647102"
        ixy="-3.20473054074497E-08"
        ixz="-9.01217936692893E-07"
        iyy="0.000160559888048535"
        iyz="-5.01310156663423E-06"
        izz="3.83030362883884E-07" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_5.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_5.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Joint_4"
    type="revolute">
    <origin
      xyz="0 -0.00674186407957562 0.1026461999984"
      rpy="9.3132251030958E-21 0 1.3395654747779E-12" />
    <parent
      link="Link_4" />
    <child
      link="Link_5" />
    <axis
      xyz="0 0 1" />
    <limit lower="-3.14159265" upper="3.14159265" effort="24" velocity="6.07"/>
  </joint>

  <!-- //////////////////////////////////////////////////////////////////////////// --> 
  <!--Link 6 Second Wrist Rotate-->
  <!-- //////////////////////////////////////////////////////////////////////////// -->
  <link
    name="Link_6">
    <inertial>
      <origin
        xyz="-3.38120155041199E-07 -0.00151253089666441 0.0532875061187637"
        rpy="0 0 0" />
      <mass
        value="0.0927319563288835" />
      <inertia
        ixx="2.20187618318443E-05"
        ixy="-1.79450945670291E-11"
        ixz="2.90513976464271E-10"
        iyy="3.01646889575727E-05"
        iyz="2.43983145821587E-06"
        izz="1.00074692806394E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_6.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_6.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Joint_5"
    type="revolute">
    <origin
      xyz="0 0 0.1179379999884"
      rpy="-1.34193964960524E-12 -6.98884429251742E-09 -1.39659253553772E-14" />
    <parent
      link="Link_5" />
    <child
      link="Link_6" />
    <axis
      xyz="1 0 0" />
    <limit lower="-1.91288086" upper="1.91288086" effort="24" velocity="6.07"/>
  </joint>

  <!-- //////////////////////////////////////////////////////////////////////////// --> 
  <!--Link 7 Grippers-->
  <!-- //////////////////////////////////////////////////////////////////////////// -->
  <link
    name="Link_7">
    <inertial>
      <origin
        xyz="-2.23067071783989E-05 -0.00133789741905997 0.0220242310868904"
        rpy="0 0 0" />
      <mass
        value="0.123680974496004" />
      <inertia
        ixx="2.45041167636038E-05"
        ixy="2.21546568984653E-09"
        ixz="1.63355680293107E-08"
        iyy="5.29618388373048E-05"
        iyz="2.58579745481831E-06"
        izz="3.26866508599107E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_7.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_7.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Joint_6"
    type="revolute">
    <origin
      xyz="0 -0.0147499999999997 0.0936450000090002"
      rpy="-1.05298985515949E-14 6.98045622575094E-15 6.98297180950059E-15" />
    <parent
      link="Link_6" />
    <child
      link="Link_7" />
    <axis
      xyz="0 0 1" />
    <limit lower="-2.617993878" upper="2.617993878" effort="10" velocity="6.07"/>
  </joint>

  <!-- //////////////////////////////////////////////////////////////////////////// --> 
  <!--Link 8 Left Gripper-->
  <!-- //////////////////////////////////////////////////////////////////////////// -->
  <link
    name="Link_8">
    <inertial>
      <origin
        xyz="0.00860762646682772 0.00235992159407598 0.0393862951325977"
        rpy="0 0 0" />
      <mass
        value="0.0270525603322218" />
      <inertia
        ixx="2.47548588580079E-05"
        ixy="-8.63398014182299E-07"
        ixz="6.42049429940404E-06"
        iyy="2.66307768658301E-05"
        iyz="1.05505702687199E-06"
        izz="3.08245529576396E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_8.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_8.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Joint_7"
    type="revolute">
    <origin
      xyz="0.0186360000084232 -0.000852000011599824 0.041136000009572"
      rpy="5.54546326711482E-17 1.39776847763541E-08 1.39659257005509E-14" />
    <parent
      link="Link_7" />
    <child
      link="Link_8" />
    <axis
      xyz="0 1 0" />
    <limit lower="0" upper="1.00" effort="10" velocity="6.07"/>
  </joint>

  <!-- //////////////////////////////////////////////////////////////////////////// --> 
  <!--Link 9 Right Gripper-->
  <!-- //////////////////////////////////////////////////////////////////////////// -->
  <link
    name="Link_9">
    <inertial>
      <origin
        xyz="-0.00855603007043371 0.00235992159270827 0.0393975358112436"
        rpy="0 0 0" />
      <mass
        value="0.0270525603322137" />
      <inertia
        ixx="2.47380022861504E-05"
        ixy="8.64779209943437E-07"
        ixz="-6.44885922745473E-06"
        iyy="2.66307768658224E-05"
        iyz="1.05392522348742E-06"
        izz="3.09931186790004E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_9.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mastering_ros_robot/meshes/armstrong_meshes/Link_9.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Joint_8"
    type="revolute">
    <origin
      xyz="-0.0186359999999997 -0.000852000011596368 0.041136"
      rpy="-6.92750814262072E-15 1.39776987422794E-08 6.98296302286462E-15" />
    <parent
      link="Link_7" />
    <child
      link="Link_9" />
    <axis
      xyz="0 1 0" />
    <limit lower="-1.00" upper="0" effort="10" velocity="6.07"/>
    <mimic joint="Joint_7" multiplier="-1"/>
  </joint>

  <!-- //////////////////////////////////////////////////////////////////////////// --> 
  <!--EEF Reference Frame-->
  <!-- //////////////////////////////////////////////////////////////////////////// -->
  <link name="Link_EEF">
  	<visual>
  		<geometry>
  			<sphere radius="0.001"/>
  		</geometry>

  		<material name="">
  			<color rgba="0.75294 0.75294 0.75294 1" />
  		</material>
  	</visual>
  </link>
  <joint
    name="Joint_EEF"
    type="fixed">
    <origin
      xyz="2.12678282444645E-05 -0.00182300001159769 0.150049776923635"
      rpy="3.54693587390868E-15 1.39776917593168E-08 6.98296302286467E-15" />
    <parent
      link="Link_7" />
    <child
      link="Link_EEF" />
    <axis
      xyz="0 0 0" />
  </joint>

  <!-- //////////////////////////////////////////////////////////////////////////// -->  
  <!--Transmissions ROS Control-->
  <!-- //////////////////////////////////////////////////////////////////////////// -->
  <xacro:transmission_block joint_name="Joint_1"/>
  <xacro:transmission_block joint_name="Joint_2"/>
  <xacro:transmission_block joint_name="Joint_3"/>
  <xacro:transmission_block joint_name="Joint_4"/>
  <xacro:transmission_block joint_name="Joint_5"/>
  <xacro:transmission_block joint_name="Joint_6"/>
  <xacro:transmission_block joint_name="Joint_7"/>
  <xacro:transmission_block joint_name="Joint_8"/>

  <!-- //////////////////////////////////////////////////////////////////////////// --> 
  <!--Gazebo_ROS_Control Plugin-->
  <!-- //////////////////////////////////////////////////////////////////////////// -->
  <gazebo>
      <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
        <robotNamespace>/armstrong</robotNamespace>
      </plugin>
  </gazebo>

</robot>